---
layout:     post
title:      "ES6背景简介——ES6学习笔记1"
subtitle:   ""
date:       2017-09-11 10:10:01
author:     "Paian"
catalog: true
tags:
    - ES6
    - 学习笔记
---
## ES6背景简介
——ES6学习笔记1

### 1.1 几个概念间的关系

- ECMAScript 和 JavaScript 的关系

ECMAScript 和 JavaScript 的关系是，前者是后者的规格，后者是前者的一种实现（另外的 ECMAScript 方言还有 Jscript 和 ActionScript）。日常场合，这两个词是可以互换的。

－ ES6 与 ECMAScript 2015 的关系

2011年，ECMAScript 5.1版发布后，就开始制定6.0版了。因此，ES6 这个词的原意，是 JavaScript 语言的下一个版本。

但这个版本引入的语法功能太多，而且制定过程当中，还有很多组织和个人不断提交新功能。有鉴于此，标准的制定者想让标准的升级成为常规流程：任何人在任何时候，都可以向标准委员会提交新语法的提案，然后标准委员会每个月开一次会，评估这些提案是否可以接受，需要哪些改进。标准委员会最终决定，标准在每年的6月份正式发布一次，作为当年的正式版本，用年份标记版本号。ES6 的第一个版本，就这样在2015年6月发布了，正式名称就是《ECMAScript 2015标准》（简称 ES2015）。接下来，于2016年6月、2017年6月分别发布了《ECMAScript 2016标准》（简称 ES2016）、《ECMAScript 2017标准》（简称 ES2017）。

因此，ES6 既是一个历史名词，也是一个泛指，含义是5.1版以后的 JavaScript 的下一代标准，涵盖了ES2015、ES2016、ES2017等等，当然也有不少业内人士说ES6的时候实际指的就是ES2015。把ES6等同于ES2015标准。而ES2015 则是正式名称，特指该年发布的正式版本的语言标准。本书中提到 ES6 的地方，一般是指 ES2015 标准，但有时也是泛指“下一代 JavaScript 语言”。

### 1.2 语法提案的批准流程

任何人都可以向标准委员会（又称 TC39 委员会）提案，要求修改语言标准。

一种新的语法从提案到变成正式标准，需要经历五个阶段。每个阶段的变动都需要由 TC39 委员会批准。

- Stage 0 - Strawman（展示阶段）

一种推进ECMAScript发展的自由形式，任何TC39成员，或者注册为TC39贡献者的会员，都可以提交。

- Stage 1 - Proposal（征求意见阶段）

该阶段产生一个正式的提案。（1）确定一个带头人来负责该提案，带头人或者联合带头人必须是TC39的成员。（2）描述清楚要解决的问题，解决方案中必须包含例子，API以及关于相关的语义和算法。（3）潜在问题也应该指出来，例如与其他特性的关系，实现它所面临的挑战。（4）polyfill和demo也是必要的。

- Stage 2 - Draft（草案阶段）

草案是规范的第一个版本，与最终标准中包含的特性不会有太大差别。草案之后，原则上只接受增量修改。（1）草案中包含新增特性语法和语义的，尽可能的完善的形式说明，允许包含一些待办事项或者占位符。（2）必须包含2个实验性的具体实现，其中一个可以是用转译器实现的，例如Babel。

- Stage 3 - Candidate（候选阶段）

候选阶段，获得具体实现和用户的反馈。此后，只有在实现和使用过程中出现了重大问题才会修改。（1）规范文档必须是完整的，评审人和ECMAScript的编辑要在规范上签字。（2）至少要有两个符合规范的具体实现。

- Stage 4 - Finished（定案阶段）

已经准备就绪，该特性会出现在年度发布的规范之中。（1）通过Test 262的验收测试。（2）有2个通过测试的实现，以获取使用过程中的重要实践经验。（3）ECMAScript的编辑必须规范上的签字。

一个提案只要能进入 Stage 2，就差不多肯定会包括在以后的正式标准里面。ECMAScript 当前的所有提案，可以在 TC39（Technical Committee 39）的官方网站[Github.com/tc39/ecma262](https://github.com/tc39/ecma262)查看。

## 1.3 ECMAScript的版本更迭历程

ES6 从开始制定到最后发布，整整用了15年。

1997年6月，ECMAScript 1.0发布。

1998年6月，ECMAScript 2.0发布。

1999年12月，ECMAScript 3.0发布。

    3.0版是一个巨大的成功，在业界得到广泛支持，成为通行标准，奠定了 JavaScript 语言的基本语法，以后的版本完全继承。直到今天，初学者一开始学习 JavaScript，其实就是在学3.0版的语法。

2007年10月，发布ECMAScript 4.0草案，本来预计次年8月发布正式版本。但是，各方对于是否通过这个标准，发生了严重分歧。以 Yahoo、Microsoft、Google 为首的大公司，反对 JavaScript 的大幅升级，主张小幅改动；以 JavaScript 创造者Brendan Eich为首的Mozilla公司，则坚持当前的草案。

    2000年，ECMAScript 4.0 开始酝酿。这个版本最后没有通过，但是它的大部分内容被 ES6 继承了。因此，ES6 制定的起点其实是2000年。

    为什么 ES4 没有通过呢？因为这个版本太激进了，对 ES3 做了彻底升级，导致标准委员会的一些成员不愿意接受。

    2008年7月，由于对于下一个版本应该包括哪些功能，各方分歧太大，争论过于激烈，ECMA 开会决定，中止 ECMAScript 4.0 的开发，将其中涉及现有功能改善的一小部分，发布为 ECMAScript 3.1，而将其他激进的设想扩大范围，放入以后的版本，由于会议的气氛，该版本的项目代号起名为 Harmony（和谐）。会后不久，ECMAScript 3.1 就改名为 ECMAScript 5。

2009年12月，ECMAScript 5.0 版发布。Harmony 项目则一分为二，一些较为可行的设想定名为 JavaScript.next 继续开发，后来演变成 ECMAScript 6；一些不是很成熟的设想，则被视为 JavaScript.next.next，在更远的将来再考虑推出。TC39 委员会的总体考虑是，ES5 与 ES3 基本保持兼容，较大的语法修正和新功能加入，将由 JavaScript.next 完成。当时，JavaScript.next 指的是ES6。

2011年6月，ECMAScript 5.1 版发布，并且成为 ISO 国际标准（ISO/IEC 16262:2011）。

    2013年3月，ECMAScript 6 草案冻结，不再添加新功能。新的功能设想将被放到 ECMAScript 7。

    2013年12月，ECMAScript 6 草案发布。然后是12个月的讨论期，听取各方反馈。

2015年6月，ECMAScript 6 正式通过，成为国际标准。从2000年算起，这时已经过去了15年。





