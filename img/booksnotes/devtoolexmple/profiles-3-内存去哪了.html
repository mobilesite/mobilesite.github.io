<!doctype html>
<html>
<head>
    <title>profile test1 html</title>
</head>
<body>
使用Take Heap Snapshot选项(拍下当前页面内存快照)。
使用方法是前后拍两次快照, 然后选择comparison(比较), 查看snapshot 2 和 snapshot 1在内存上的变化, 从Size Delta项上可以看出前后的巨大变化, 从而定位耗内存的地方。

除了通过拍照内存，还可以试试用Record Allocation Timeline的方式（也就是记录一段时间的内存消耗）, 然后点击红色的录制按钮录制一段, 然后停止掉。 从录制的那一段中选中波峰的位置就可以定位到内存耗费较大的地方, 还可以看到选中地方对应的内存(见selected size中)。
<script>
    var a = [];
    setInterval(function(){
        a.push(randomString(10240));
    }, 1000);
    //一个耗内存的计算

    function randomString(length) {
        var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'.split('');

        if (! length) {
            length = Math.floor(Math.random() * chars.length);
        }

        var str = '';
        for (var i = 0; i < length; i++) {
            str += chars[Math.floor(Math.random() * chars.length)];
        }
        return str;
    }
</script>
</body>
</html>